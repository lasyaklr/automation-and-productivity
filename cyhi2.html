<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Task Tracker</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f9f9f9;
      margin: 0;
      padding: 20px;
    }

    h1 {
      text-align: center;
    }

    #taskContainer {
      display: flex;
      justify-content: flex-start;
      gap: 40px;
      margin-top: 20px;
    }

    .taskSection {
      flex: 1;
      background: white;
      padding: 15px;
      border-radius: 10px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }

    .taskSection h2 {
      text-align: center;
      margin-bottom: 10px;
      color: #007bff;
    }

    .taskItem {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 10px;
      margin: 8px 0;
      background: #f1f8ff; /* Light blue */
      border-radius: 5px;
      border-left: 5px solid #007bff; /* Highlight bar */
      box-shadow: 0 2px 5px rgba(0,0,0,0.05);
    }

    .taskItem span {
      flex-grow: 1;
      margin-left: 10px;
      color: #333;
    }

    .taskActions button {
      margin-left: 5px;
      padding: 4px 8px;
      font-size: 12px;
      border: none;
      border-radius: 4px;
      cursor: pointer;
    }

    .editBtn {
      background: #ffc107;
      color: white;
    }

    .deleteBtn {
      background: #dc3545;
      color: white;
    }

    .emptyMsg {
      text-align: center;
      color: #888;
      margin-top: 20px;
    }

    /* Floating + button */
    #addBtn {
      position: fixed;
      bottom: 30px;
      right: 30px;
      width: 60px;
      height: 60px;
      border-radius: 50%;
      font-size: 32px;
      background: #007bff;
      color: white;
      border: none;
      cursor: pointer;
      box-shadow: 0 4px 6px rgba(0,0,0,0.2);
    }

    /* Modal styling */
    .modal {
      display: none;
      position: fixed;
      z-index: 1000;
      left: 0; top: 0;
      width: 100%; height: 100%;
      background: rgba(0,0,0,0.4);
    }

    .modal-content {
      background: white;
      margin: 10% auto;
      padding: 20px;
      width: 300px;
      border-radius: 10px;
      text-align: left;
    }

    .modal-content label {
      display: block;
      margin-top: 10px;
    }

    .modal-content input, .modal-content select {
      width: 100%;
      padding: 8px;
      margin-top: 5px;
    }

    .modal-content button {
      margin-top: 15px;
      padding: 10px;
      width: 100%;
      background: #007bff;
      color: white;
      border: none;
      cursor: pointer;
      border-radius: 5px;
    }

    .close {
      float: right;
      cursor: pointer;
      color: red;
      font-weight: bold;
    }
    .completed {
  text-decoration: line-through;
  color: #888;
  opacity: 0.7;
}

  </style>
</head>
<body>
  <h1>Task Tracker</h1>
  
  <!-- Container for two sections -->
  <div id="taskContainer">
    <div class="taskSection">
      <h2> Routines</h2>
      <div id="dailyTasks" class="emptyMsg">No daily tasks yet</div>
    </div>
    <div class="taskSection">
      <h2> One-timers</h2>
      <div id="nondailyTasks" class="emptyMsg">No one-time tasks yet</div>
    </div>
  </div>

  <!-- Floating Add Button -->
  <button id="addBtn">+</button>

  <!-- Modal Form -->
  <div id="taskModal" class="modal">
    <div class="modal-content">
      <span class="close" id="closeModal">&times;</span>
      <h3 id="modalTitle">Add Task</h3>

      <label>Task Title:</label>
      <input type="text" id="taskTitle">

      <label>Date & Time:</label>
      <input type="datetime-local" id="taskTime">

      <label>Daily Task?</label>
      <select id="taskDaily">
        <option value="yes">Yes</option>
        <option value="no">No</option>
      </select>

      <label>Reminder Type:</label>
      <select id="taskReminder">
        <option value="notification">Notification</option>
        <option value="alarm">Alarm</option>
      </select>

      <button id="saveTask">Save Task</button>
    </div>
  </div>

  <script>
    let tasks = JSON.parse(localStorage.getItem("tasks")) || [];
    let editTaskId = null;

    const dailyTasksDiv = document.getElementById("dailyTasks");
    const nondailyTasksDiv = document.getElementById("nondailyTasks");
    const addBtn = document.getElementById("addBtn");
    const taskModal = document.getElementById("taskModal");
    const closeModal = document.getElementById("closeModal");
    const saveTask = document.getElementById("saveTask");
    const modalTitle = document.getElementById("modalTitle");

    function renderTasks() {
      dailyTasksDiv.innerHTML = "";
      nondailyTasksDiv.innerHTML = "";

      let dailyCount = 0;
      let nondailyCount = 0;

      tasks.forEach((t) => {
        let div = document.createElement("div");
        div.className = "taskItem";

        let checkbox = document.createElement("input");
        checkbox.type = "checkbox";
        checkbox.checked = t.completed;
      checkbox.onchange = () => {
      t.completed = checkbox.checked;
      if (t.completed) {
      label.classList.add("completed");
      } else {
      label.classList.remove("completed");
      }
      localStorage.setItem("tasks", JSON.stringify(tasks));
      };


      let label = document.createElement("span");
      label.innerHTML = `<b>${t.title}</b> (${t.reminder})`;
      if (t.completed) label.classList.add("completed");
 

        let actions = document.createElement("div");
        actions.className = "taskActions";

        let editBtn = document.createElement("button");
        editBtn.className = "editBtn";
        editBtn.textContent = "Edit";
        editBtn.onclick = () => editTask(t.id);

        let deleteBtn = document.createElement("button");
        deleteBtn.className = "deleteBtn";
        deleteBtn.textContent = "Delete";
        deleteBtn.onclick = () => deleteTask(t.id);

        actions.appendChild(editBtn);
        actions.appendChild(deleteBtn);

        div.appendChild(checkbox);
        div.appendChild(label);
        div.appendChild(actions);

        if (t.daily === "yes") {
          dailyTasksDiv.appendChild(div);
          dailyCount++;
        } else {
          nondailyTasksDiv.appendChild(div);
          nondailyCount++;
        }
      });

      if (dailyCount === 0) dailyTasksDiv.innerHTML = "<div class='emptyMsg'>No daily tasks yet</div>";
      if (nondailyCount === 0) nondailyTasksDiv.innerHTML = "<div class='emptyMsg'>No one-time tasks yet</div>";
    }

    function editTask(id) {
      let task = tasks.find(t => t.id === id);
      if (!task) return;

      editTaskId = id;
      modalTitle.textContent = "Edit Task";
      document.getElementById("taskTitle").value = task.title;
      document.getElementById("taskTime").value = task.time;
      document.getElementById("taskDaily").value = task.daily;
      document.getElementById("taskReminder").value = task.reminder;

      taskModal.style.display = "block";
    }

    function deleteTask(id) {
      if (confirm("Are you sure you want to delete this task?")) {
        tasks = tasks.filter(t => t.id !== id);
        localStorage.setItem("tasks", JSON.stringify(tasks));
        renderTasks();
      }
    }

    addBtn.onclick = () => {
      editTaskId = null;
      modalTitle.textContent = "Add Task";
      document.getElementById("taskTitle").value = "";
      document.getElementById("taskTime").value = "";
      document.getElementById("taskDaily").value = "yes";
      document.getElementById("taskReminder").value = "notification";
      taskModal.style.display = "block";
    };

    closeModal.onclick = () => taskModal.style.display = "none";

    saveTask.onclick = () => {
      const newTask = {
        id: editTaskId ? editTaskId : Date.now(),
        title: document.getElementById("taskTitle").value,
        time: document.getElementById("taskTime").value,
        daily: document.getElementById("taskDaily").value,
        reminder: document.getElementById("taskReminder").value,
        streak: 0,
        completed: false
      };

      if (editTaskId) {
        tasks = tasks.map(t => t.id === editTaskId ? newTask : t);
        editTaskId = null;
      } else {
        tasks.push(newTask);
      }

      localStorage.setItem("tasks", JSON.stringify(tasks));
      renderTasks();
      taskModal.style.display = "none";
    };

    renderTasks();
  </script>
</body>
</html>
